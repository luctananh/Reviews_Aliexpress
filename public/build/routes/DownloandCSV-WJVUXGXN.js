import{q as n}from"/build/_shared/chunk-5LJH62OD.js";import{a as u}from"/build/_shared/chunk-VRBKQU2G.js";import"/build/_shared/chunk-SSRZKJVQ.js";import"/build/_shared/chunk-UIOUHADL.js";import{e as d,g as s,h as c,n as l}from"/build/_shared/chunk-3D2VXHQT.js";import{b as m}from"/build/_shared/chunk-F33EF4G7.js";import{d as i}from"/build/_shared/chunk-2QEWK57A.js";var o=i(m(),1);function p(){let[f]=d(),v=f.get("productId"),D=l();return(0,o.jsx)("div",{className:"overlay",children:(0,o.jsxs)("div",{className:"container",children:[(0,o.jsx)("h1",{children:"Export Reviews .CSV"}),(0,o.jsxs)(c,{method:"post",action:"/downloand_reviews",onSubmit:async e=>{e.preventDefault();let w=new FormData(e.target),a=await fetch(e.target.action,{method:"POST",body:w});if(!a.ok){console.error("Error downloading CSV:",await a.json());return}let{csvContent:h,fileName:b}=await a.json(),y=new Blob([h],{type:"text/csv"}),r=window.URL.createObjectURL(y),t=document.createElement("a");t.href=r,t.download=`${b}.csv`,document.body.appendChild(t),t.click(),t.remove(),window.URL.revokeObjectURL(r)},children:[(0,o.jsx)("input",{type:"hidden",name:"_actionType",value:"download"}),(0,o.jsx)("input",{type:"hidden",name:"productId",value:v})," ",(0,o.jsx)("label",{htmlFor:"fileName",children:"Enter file name:"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("input",{type:"text",name:"fileName",id:"fileName",placeholder:"Enter file name"}),(0,o.jsxs)("div",{className:"button_card",children:[(0,o.jsx)(n,{size:"sm",onClick:()=>u.success("Downloand successfully"),variant:"shadow",type:"submit",children:"Download"}),(0,o.jsx)(n,{size:"sm",radius:"sm",variant:"bordered",as:s,to:"/products",children:"Close"})]})]})]})]})})}export{p as default};
