import{d as Oe,e as ke,f as De}from"/build/_shared/chunk-P7B4R23W.js";import{c as Ee}from"/build/_shared/chunk-JI256XCL.js";import{a as W,b as Re}from"/build/_shared/chunk-P6ZGV53T.js";import{h as re,o as Me}from"/build/_shared/chunk-5LJH62OD.js";import{a as me,c as I,e as _,ea as he,ga as ve,h as P,ia as Se,ka as oe,l as be,la as ye,ma as Pe,na as Ie,pa as w,qa as Ce,r as xe,s as ge}from"/build/_shared/chunk-SSRZKJVQ.js";import{a as we,c as te,e as ae}from"/build/_shared/chunk-UIOUHADL.js";import{a as v,b as A}from"/build/_shared/chunk-F33EF4G7.js";import{d as l}from"/build/_shared/chunk-2QEWK57A.js";var[Ve,C]=me({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"});var Le=l(v(),1);var Ne=l(A(),1),Ae=w((e,o)=>{let{as:t,children:r,className:a,...c}=e,{slots:s,classNames:i,bodyId:d,setBodyMounted:f}=C(),n=I(o),u=t||"div";return(0,Le.useEffect)(()=>(f(!0),()=>f(!1)),[f]),(0,Ne.jsx)(u,{ref:n,className:s.body({class:P(i?.body,a)}),id:d,...c,children:r})});Ae.displayName="NextUI.ModalBody";var xo=Ae;var _e={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter)",opacity:1,willChange:"auto",transition:{scale:{duration:.4,ease:W.ease},opacity:{duration:.4,ease:W.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,willChange:"transform",transition:{duration:.3,ease:W.ease}}};var E=l(v(),1);var j=l(v(),1);var Lo=Boolean(typeof window<"u"&&window.document&&window.document.createElement),Fe=new Map;function Te(e,o){if(e===o)return e;let t=Fe.get(e);if(t)return t.forEach(a=>a(o)),o;let r=Fe.get(o);return r?(r.forEach(a=>a(e)),e):o}function F(...e){return(...o)=>{for(let t of e)typeof t=="function"&&t(...o)}}function Be(e){var o,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(o=0;o<a;o++)e[o]&&(t=Be(e[o]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function go(){for(var e,o,t=0,r="",a=arguments.length;t<a;t++)(e=arguments[t])&&(o=Be(e))&&(r&&(r+=" "),r+=o);return r}var ze=go;function V(...e){let o={...e[0]};for(let t=1;t<e.length;t++){let r=e[t];for(let a in r){let c=o[a],s=r[a];typeof c=="function"&&typeof s=="function"&&a[0]==="o"&&a[1]==="n"&&a.charCodeAt(2)>=65&&a.charCodeAt(2)<=90?o[a]=F(c,s):(a==="className"||a==="UNSAFE_className")&&typeof c=="string"&&typeof s=="string"?o[a]=ze(c,s):a==="id"&&c&&s?o.id=Te(c,s):o[a]=s!==void 0?s:c}}return o}function se(...e){return e.length===1&&e[0]?e[0]:o=>{for(let t of e)typeof t=="function"?t(o):t!=null&&(t.current=o)}}var U=l(v(),1);var x=typeof document<"u"&&window.visualViewport;function ce(){let e=ge(),[o,t]=(0,U.useState)(()=>e?{width:0,height:0}:Ke());return(0,U.useEffect)(()=>{let r=()=>{t(a=>{let c=Ke();return c.width===a.width&&c.height===a.height?a:c})};return x?x.addEventListener("resize",r):window.addEventListener("resize",r),()=>{x?x.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),o}function Ke(){return{width:x&&x?.width||window.innerWidth,height:x&&x?.height||window.innerHeight}}var $=l(A(),1),We=()=>import("/build/_shared/dist-WO5D33HY.js").then(e=>e.default),je=e=>{let{as:o,children:t,role:r="dialog",...a}=e,{Component:c,domRef:s,slots:i,classNames:d,motionProps:f,backdrop:n,closeButton:u,hideCloseButton:g,disableAnimation:p,getDialogProps:S,getBackdropProps:b,getCloseButtonProps:y,onClose:h}=C(),T=o||c||"div",q=ce(),{dialogProps:J}=De({role:r},s),B=(0,E.isValidElement)(u)?(0,E.cloneElement)(u,y()):(0,$.jsx)("button",{...y(),children:(0,$.jsx)(Ee,{})}),Q=(0,E.useCallback)(k=>{k.key==="Tab"&&k.nativeEvent.isComposing&&(k.stopPropagation(),k.preventDefault())},[]),z=S(V(J,a)),M=(0,$.jsxs)(T,{...z,onKeyDown:F(z.onKeyDown,Q),children:[(0,$.jsx)(oe,{onDismiss:h}),!g&&B,typeof t=="function"?t(h):t,(0,$.jsx)(oe,{onDismiss:h})]}),Y=(0,E.useMemo)(()=>n==="transparent"?null:p?(0,$.jsx)("div",{...b()}):(0,$.jsx)(te,{features:We,children:(0,$.jsx)(ae.div,{animate:"enter",exit:"exit",initial:"exit",variants:Re.fade,...b()})}),[n,p,b]),K={"--visual-viewport-height":q.height+"px"},Z=p?(0,$.jsx)("div",{className:i.wrapper({class:d?.wrapper}),"data-slot":"wrapper",style:K,children:M}):(0,$.jsx)(te,{features:We,children:(0,$.jsx)(ae.div,{animate:"enter",className:i.wrapper({class:d?.wrapper}),"data-slot":"wrapper",exit:"exit",initial:"exit",variants:_e,...f,style:K,children:M})});return(0,$.jsxs)("div",{tabIndex:-1,children:[Y,Z]})};je.displayName="NextUI.ModalContent";var ho=je;var Ue=l(A(),1),He=w((e,o)=>{let{as:t,children:r,className:a,...c}=e,{slots:s,classNames:i}=C(),d=I(o);return(0,Ue.jsx)(t||"footer",{ref:d,className:s.footer({class:P(i?.footer,a)}),...c,children:r})});He.displayName="NextUI.ModalFooter";var vo=He;var Ge=l(v(),1);var Xe=l(A(),1),qe=w((e,o)=>{let{as:t,children:r,className:a,...c}=e,{slots:s,classNames:i,headerId:d,setHeaderMounted:f}=C(),n=I(o),u=t||"header";return(0,Ge.useEffect)(()=>(f(!0),()=>f(!1)),[f]),(0,Xe.jsx)(u,{ref:n,className:s.header({class:P(i?.header,a)}),id:d,...c,children:r})});qe.displayName="NextUI.ModalHeader";var So=qe;var H=l(v(),1);var mt=Boolean(typeof window<"u"&&window.document&&window.document.createElement),Je=new Map;function Qe(e,o){if(e===o)return e;let t=Je.get(e);if(t)return t.forEach(a=>a(o)),o;let r=Je.get(o);return r?(r.forEach(a=>a(e)),e):o}function Ye(...e){return(...o)=>{for(let t of e)typeof t=="function"&&t(...o)}}function Ze(e){var o,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(o=0;o<a;o++)e[o]&&(t=Ze(e[o]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function yo(){for(var e,o,t=0,r="",a=arguments.length;t<a;t++)(e=arguments[t])&&(o=Ze(e))&&(r&&(r+=" "),r+=o);return r}var eo=yo;function fe(...e){let o={...e[0]};for(let t=1;t<e.length;t++){let r=e[t];for(let a in r){let c=o[a],s=r[a];typeof c=="function"&&typeof s=="function"&&a[0]==="o"&&a[1]==="n"&&a.charCodeAt(2)>=65&&a.charCodeAt(2)<=90?o[a]=Ye(c,s):(a==="className"||a==="UNSAFE_className")&&typeof c=="string"&&typeof s=="string"?o[a]=eo(c,s):a==="id"&&c&&s?o.id=Qe(c,s):o[a]=s!==void 0?s:c}}return o}var oo=l(v(),1);function to(e={shouldBlockScroll:!0},o,t){let{overlayProps:r,underlayProps:a}=ve({...e,isOpen:o.isOpen,onClose:o.close},t);return Se({isDisabled:!o.isOpen||!e.shouldBlockScroll}),Ie(),(0,oo.useEffect)(()=>{if(o.isOpen&&t.current)return ye([t.current])},[o.isOpen,t]),{modalProps:fe(r),underlayProps:a}}var m=l(v(),1);function ao(e){var o,t,r;let a=xe(),[c,s]=Ce(e,re.variantKeys),{ref:i,as:d,className:f,classNames:n,isOpen:u,defaultOpen:g,onOpenChange:p,motionProps:S,closeButton:b,isDismissable:y=!0,hideCloseButton:h=!1,shouldBlockScroll:T=!0,portalContainer:q,isKeyboardDismissDisabled:J=!1,onClose:B,...Q}=c,z=d||"section",M=I(i),Y=(0,m.useRef)(null),[K,Z]=(0,m.useState)(!1),[k,so]=(0,m.useState)(!1),ee=(t=(o=e.disableAnimation)!=null?o:a?.disableAnimation)!=null?t:!1,co=(0,m.useId)(),pe=(0,m.useId)(),le=(0,m.useId)(),D=ke({isOpen:u,defaultOpen:g,onOpenChange:O=>{p?.(O),O||B?.()}}),{modalProps:fo,underlayProps:$e}=to({isDismissable:y,shouldBlockScroll:T,isKeyboardDismissDisabled:J},D,M),{buttonProps:io}=Me({onPress:D.close},Y),{isFocusVisible:no,focusProps:po}=he(),lo=P(n?.base,f),N=(0,m.useMemo)(()=>re({...s,disableAnimation:ee}),[be(s),ee]),$o=(O={},bo=null)=>{var ue;return{ref:se(bo,M),...V(fo,Q,O),className:N.base({class:P(lo,O.className)}),id:co,"data-open":_(D.isOpen),"data-dismissable":_(y),"aria-modal":_(!0),"data-placement":(ue=e?.placement)!=null?ue:"right","aria-labelledby":K?pe:void 0,"aria-describedby":k?le:void 0}},uo=(0,m.useCallback)((O={})=>({className:N.backdrop({class:n?.backdrop}),onClick:()=>D.close(),...$e,...O}),[N,n,$e]),mo=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":_(no),className:N.closeButton({class:n?.closeButton}),...V(io,po)});return{Component:z,slots:N,domRef:M,headerId:pe,bodyId:le,motionProps:S,classNames:n,isDismissable:y,closeButton:b,hideCloseButton:h,portalContainer:q,shouldBlockScroll:T,backdrop:(r=e.backdrop)!=null?r:"opaque",isOpen:D.isOpen,onClose:D.close,disableAnimation:ee,setBodyMounted:so,setHeaderMounted:Z,getDialogProps:$o,getBackdropProps:uo,getCloseButtonProps:mo}}var G=l(A(),1),ro=w((e,o)=>{let{children:t,...r}=e,a=ao({...r,ref:o}),c=(0,G.jsx)(Pe,{portalContainer:a.portalContainer,children:t});return(0,G.jsx)(Ve,{value:a,children:a.disableAnimation&&a.isOpen?c:(0,G.jsx)(we,{children:a.isOpen?c:null})})});ro.displayName="NextUI.Modal";var Po=ro;function ie(...e){return(...o)=>{for(let t of e)typeof t=="function"&&t(...o)}}var R=l(v(),1);function ne(e,o,t){let[r,a]=(0,R.useState)(e||o),c=(0,R.useRef)(e!==void 0),s=e!==void 0;(0,R.useEffect)(()=>{let f=c.current;f!==s&&console.warn(`WARN: A component changed from ${f?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}.`),c.current=s},[s]);let i=s?e:r,d=(0,R.useCallback)((f,...n)=>{let u=(g,...p)=>{t&&(Object.is(i,g)||t(g,...p)),s||(i=g)};typeof f=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),a((p,...S)=>{let b=f(s?i:p,...S);return u(b,...n),s?p:b})):(s||a(f),u(f,...n))},[s,i,t]);return[i,d]}var X=l(v(),1);function de(e,o=[]){let t=(0,X.useRef)(e);return Oe(()=>{t.current=e}),(0,X.useCallback)((...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},o)}var L=l(v(),1);function Io(e={}){let{id:o,defaultOpen:t,isOpen:r,onClose:a,onOpen:c,onChange:s=()=>{}}=e,i=de(c),d=de(a),[f,n]=ne(r,t||!1,s),u=(0,L.useId)(),g=o||u,p=r!==void 0,S=(0,L.useCallback)(()=>{p||n(!1),d?.()},[p,d]),b=(0,L.useCallback)(()=>{p||n(!0),i?.()},[p,i]),y=(0,L.useCallback)(()=>{(f?S:b)()},[f,b,S]);return{isOpen:!!f,onOpen:b,onClose:S,onOpenChange:y,isControlled:p,getButtonProps:(h={})=>({...h,"aria-expanded":f,"aria-controls":g,onClick:ie(h.onClick,y)}),getDisclosureProps:(h={})=>({...h,hidden:!f,id:g})}}export{xo as a,ho as b,vo as c,So as d,Po as e,Io as f};
