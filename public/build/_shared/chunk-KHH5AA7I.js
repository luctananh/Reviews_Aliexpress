import{d as ne}from"/build/_shared/chunk-P7B4R23W.js";import{m as ie}from"/build/_shared/chunk-5LJH62OD.js";import{a as Y,c as T,e as y,ea as ae,f as ee,h as H,o as re,pa as se,q as te,r as oe}from"/build/_shared/chunk-SSRZKJVQ.js";import{a as P,b as Q}from"/build/_shared/chunk-F33EF4G7.js";import{d as x}from"/build/_shared/chunk-2QEWK57A.js";var S=x(Q(),1),fe=()=>(0,S.jsxs)("svg",{"aria-hidden":"true",fill:"none",height:"80%",role:"presentation",viewBox:"0 0 24 24",width:"80%",children:[(0,S.jsx)("path",{d:"M12 2C9.38 2 7.25 4.13 7.25 6.75C7.25 9.32 9.26 11.4 11.88 11.49C11.96 11.48 12.04 11.48 12.1 11.49C12.12 11.49 12.13 11.49 12.15 11.49C12.16 11.49 12.16 11.49 12.17 11.49C14.73 11.4 16.74 9.32 16.75 6.75C16.75 4.13 14.62 2 12 2Z",fill:"currentColor"}),(0,S.jsx)("path",{d:"M17.0809 14.1489C14.2909 12.2889 9.74094 12.2889 6.93094 14.1489C5.66094 14.9989 4.96094 16.1489 4.96094 17.3789C4.96094 18.6089 5.66094 19.7489 6.92094 20.5889C8.32094 21.5289 10.1609 21.9989 12.0009 21.9989C13.8409 21.9989 15.6809 21.5289 17.0809 20.5889C18.3409 19.7389 19.0409 18.5989 19.0409 17.3589C19.0309 16.1289 18.3409 14.9889 17.0809 14.1489Z",fill:"currentColor"})]});var[Ke,ce]=Y({name:"AvatarGroupContext",strict:!1});var M=x(P(),1);var ze=Boolean(typeof window<"u"&&window.document&&window.document.createElement),de=new Map;function le(r,t){if(r===t)return r;let o=de.get(r);if(o)return o.forEach(e=>e(t)),t;let a=de.get(t);return a?(a.forEach(e=>e(r)),r):t}function ue(...r){return(...t)=>{for(let o of r)typeof o=="function"&&o(...t)}}function pe(r){var t,o,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var e=r.length;for(t=0;t<e;t++)r[t]&&(o=pe(r[t]))&&(a&&(a+=" "),a+=o)}else for(o in r)r[o]&&(a&&(a+=" "),a+=o);return a}function Ve(){for(var r,t,o=0,a="",e=arguments.length;o<e;o++)(r=arguments[o])&&(t=pe(r))&&(a&&(a+=" "),a+=t);return a}var $e=Ve;function k(...r){let t={...r[0]};for(let o=1;o<r.length;o++){let a=r[o];for(let e in a){let n=t[e],c=a[e];typeof n=="function"&&typeof c=="function"&&e[0]==="o"&&e[1]==="n"&&e.charCodeAt(2)>=65&&e.charCodeAt(2)<=90?t[e]=ue(n,c):(e==="className"||e==="UNSAFE_className")&&typeof n=="string"&&typeof c=="string"?t[e]=$e(n,c):e==="id"&&n&&c?t.id=le(n,c):t[e]=c!==void 0?c:n}}return t}var E=x(P(),1);var h=x(P(),1);function me(r={}){let{onLoad:t,onError:o,ignoreFallback:a}=r,e=re(),n=(0,h.useRef)(e?new Image:null),[c,i]=(0,h.useState)("pending");(0,h.useEffect)(()=>{n.current&&(n.current.onload=l=>{s(),i("loaded"),t?.(l)},n.current.onerror=l=>{s(),i("failed"),o?.(l)})},[n.current]);let s=()=>{n.current&&(n.current.onload=null,n.current.onerror=null,n.current=null)};return ne(()=>{e&&i(Oe(r,n))},[e]),a?"loaded":c}function Oe(r,t){let{loading:o,src:a,srcSet:e,crossOrigin:n,sizes:c,ignoreFallback:i}=r;if(!a)return"pending";if(i)return"loaded";let s=new Image;return s.src=a,n&&(s.crossOrigin=n),e&&(s.srcset=e),c&&(s.sizes=c),o&&(s.loading=o),t.current=s,s.complete&&s.naturalWidth?"loaded":"loading"}var b=x(P(),1),R=!1,V=0;function O(){R=!0,setTimeout(()=>{R=!1},50)}function be(r){r.pointerType==="touch"&&O()}function De(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",be):document.addEventListener("touchend",O),V++,()=>{V--,!(V>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",be):document.removeEventListener("touchend",O))}}function D(r){let{onHoverStart:t,onHoverChange:o,onHoverEnd:a,isDisabled:e}=r,[n,c]=(0,b.useState)(!1),i=(0,b.useRef)({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;(0,b.useEffect)(De,[]);let{hoverProps:s,triggerHoverEnd:l}=(0,b.useMemo)(()=>{let $=(f,p)=>{if(i.pointerType=p,e||p==="touch"||i.isHovered||!f.currentTarget.contains(f.target))return;i.isHovered=!0;let u=f.currentTarget;i.target=u,t&&t({type:"hoverstart",target:u,pointerType:p}),o&&o(!0),c(!0)},m=(f,p)=>{if(i.pointerType="",i.target=null,p==="touch"||!i.isHovered)return;i.isHovered=!1;let u=f.currentTarget;a&&a({type:"hoverend",target:u,pointerType:p}),o&&o(!1),c(!1)},d={};return typeof PointerEvent<"u"?(d.onPointerEnter=f=>{R&&f.pointerType==="mouse"||$(f,f.pointerType)},d.onPointerLeave=f=>{!e&&f.currentTarget.contains(f.target)&&m(f,f.pointerType)}):(d.onTouchStart=()=>{i.ignoreEmulatedMouseEvents=!0},d.onMouseEnter=f=>{!i.ignoreEmulatedMouseEvents&&!R&&$(f,"mouse"),i.ignoreEmulatedMouseEvents=!1},d.onMouseLeave=f=>{!e&&f.currentTarget.contains(f.target)&&m(f,"mouse")}),{hoverProps:d,triggerHoverEnd:m}},[t,o,a,e,i]);return(0,b.useEffect)(()=>{e&&l({currentTarget:i.target},i.pointerType)},[e]),{hoverProps:s,isHovered:n}}function ve(r={}){var t,o,a,e,n,c;let i=oe(),s=ce(),l=!!s,{as:$,ref:m,src:d,name:f,icon:p,classNames:u,fallback:he,alt:Ee=f||"avatar",imgRef:Ie,color:G=(t=s?.color)!=null?t:"default",radius:W=(o=s?.radius)!=null?o:"full",size:N=(a=s?.size)!=null?a:"md",isBordered:_=(e=s?.isBordered)!=null?e:!1,isDisabled:w=(n=s?.isDisabled)!=null?n:!1,isFocusable:K=!1,getInitials:Pe=ee,ignoreFallback:j=!1,showFallback:ye=!1,ImgComponent:z="img",imgProps:U,className:Se,onError:Ce,disableAnimation:B,...Z}=r,Ae=$||"span",Me=T(m),F=T(Ie),{isFocusVisible:ke,isFocused:Re,focusProps:X}=ae(),{isHovered:we,hoverProps:Fe}=D({isDisabled:w}),C=(c=B??i?.disableAnimation)!=null?c:!1,A=me({src:d,onError:Ce,ignoreFallback:j})==="loaded",q=typeof z=="string",Le=(!d||!A)&&ye,I=(0,E.useMemo)(()=>{var g;return ie({color:G,radius:W,size:N,isBordered:_,isDisabled:w,isInGroup:l,disableAnimation:C,isInGridGroup:(g=s?.isGrid)!=null?g:!1})},[G,W,N,_,w,C,l,s?.isGrid]),J=H(u?.base,Se),L=(0,E.useMemo)(()=>K||$==="button",[K,$]),Te=(0,E.useCallback)((g={})=>({ref:Me,tabIndex:L?0:-1,"data-hover":y(we),"data-focus":y(Re),"data-focus-visible":y(ke),className:I.base({class:H(J,g?.className)}),...k(Z,Fe,L?X:{})}),[L,I,J,X,Z]),He=(0,E.useCallback)((g={})=>({ref:F,src:d,"data-loaded":y(A),className:I.img({class:u?.img}),...k(U,g,te({disableAnimation:C},{enabled:q}))}),[I,A,U,C,d,F,q]);return{Component:Ae,ImgComponent:z,src:d,alt:Ee,icon:p,name:f,imgRef:F,slots:I,classNames:u,fallback:he,isImgLoaded:A,showFallback:Le,ignoreFallback:j,getInitials:Pe,getAvatarProps:Te,getImageProps:He}}var ge=x(P(),1);var v=x(Q(),1),xe=se((r,t)=>{let{Component:o,ImgComponent:a,src:e,icon:n=(0,v.jsx)(fe,{}),alt:c,classNames:i,slots:s,name:l,showFallback:$,fallback:m,getInitials:d,getAvatarProps:f,getImageProps:p}=ve({...r,ref:t}),u=(0,ge.useMemo)(()=>!$&&e?null:m?(0,v.jsx)("div",{"aria-label":c,className:s.fallback({class:i?.fallback}),role:"img",children:m}):l?(0,v.jsx)("span",{"aria-label":c,className:s.name({class:i?.name}),role:"img",children:d(l)}):(0,v.jsx)("span",{"aria-label":c,className:s.icon({class:i?.icon}),role:"img",children:n}),[$,e,m,l,i]);return(0,v.jsxs)(o,{...f(),children:[e&&(0,v.jsx)(a,{...p(),alt:c}),u]})});xe.displayName="NextUI.Avatar";var Ge=xe;export{Ge as a};
